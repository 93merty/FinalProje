---
title: "Proje Rapor : Mert YILMAZ 200401098"
output:
  html_document:
    df_print: paged
---
**Hocam, öncelikle çok teşekkür ederim. Bölümümüzde şu ana kadar ilk defa kesinlikle bu kadar faydalı şeyler öğrenebildiğimi ve yapabildiğimi hissediyorum. Fen Lisesi'nde öğretmenlik yapıyorum. Gerçekleştirdiğiniz eğitim rehberliğini rol model olarak II. dönem boyunca öğrencilere egzersizler vererek -aynı şekilde internet kullanımını serbest bırakarak- ilerleyeceğim. Kattığınız her şey için tekrar çok teşekkür ederim. Önümüzdeki dönem de mümkünse okulumuzda olmanızı ve seçebilmek için 4. sınıf ikinci dönemi için seçmeli dersinizin olmasını umuyorum.Esenlikler dilerim...**

# Q1 : Problem tanımı

Şirketimiz **CargoBox**. Problemimiz *Şirketimiz bir startup’dur. Bu sebeple çalışana ayıracak bütçesi kısıtlıdır. Mümkün olduğunca düşük maaşla çalışacak çalışanlara ihtiyacı vardır.Yeni bir girişim olduğu için şirketin geçmişi ve geleceği belirsizdir. Bu sebeple bir girişimde yer almak isteyecek, girişimci ruhu bulunan çalışanlar olmalıdır.*. 

```{r echo=FALSE, message=FALSE, warning=FALSE}
# problemi tanımla
problem_metni <- "Şirketimiz CargoBox. Problemimiz Şirketimiz bir startup’dur. Bu sebeple çalışana ayıracak bütçesi kısıtlıdır. Mümkün olduğunca düşük maaşla çalışacak çalışanlara ihtiyacı vardır. Yeni bir girişim olduğu için şirketin geçmişi ve geleceği belirsizdir. Bu sebeple bir girişimde yer almak isteyecek, girişimci ruhu bulunan çalışanlar olmalıdır."
```

# Q2 : Proje Amacı
[Entrepreneurial Competency in University Students](https://www.kaggle.com/datasets/namanmanchanda/entrepreneurial-competency-in-university-students) adlı girişimci üniversite öğrencilerine ilişkin Kaggle veri seti ile İkinci bir veri seti olarak şirketimin departman adlarını ve departmanlarının üniversitelerin hangi bölümlerinden çalışanlar aradıkları gibi değişkenler içeren basit bir (https://drive.google.com/file/d/11d_qbho-N2cZz1ORmWvCrIRo2aQVVvtn/view?usp=sharing) veri setini *girişimci olan adayları filtreleyerek* ve *girişimci olan adayları bölümlerine göre kümeleyerek* ardından *adayların pozitif özelliklerinin toplamından negatif özelliklerinin toplamı ile sentetik veri oluşturulması sonucu adayların sıralanması* ve ikinci veri setinde **alım şartlarını sağlayan adayların belirlenmesi** yöntemlerini kullanarak problemi yok edeceğiz. Bu sayede de iş için uygun adayları belirlemeyi planlıyoruz. 

```{r echo=FALSE, message=FALSE, warning=FALSE}
amac_metni <- "[Entrepreneurial Competency in University Students](https://www.kaggle.com/datasets/namanmanchanda/entrepreneurial-competency-in-university-students) adlı girişimci üniversite öğrencilerine ilişkin Kaggle veri seti ile İkinci bir veri seti olarak şirketimin departman adlarını ve departmanlarının üniversitelerin hangi bölümlerinden çalışanlar aradıkları gibi değişkenler içeren basit bir (https://drive.google.com/file/d/11d_qbho-N2cZz1ORmWvCrIRo2aQVVvtn/view?usp=sharing) veri setini *girişimci olan adayları filtreleyerek* ve *girişimci olan adayları bölümlerine göre kümeleyerek* ardından *adayların pozitif özelliklerinin toplamından negatif özelliklerinin toplamı ile sentetik veri oluşturulması sonucu adayların sıralanması* ve ikinci veri setinde **alım şartlarını sağlayan adayların belirlenmesi** yöntemlerini kullanarak problemi yok edeceğiz. Bu sayede de iş için uygun adayları belirlemeyi planlıyoruz."
```

# Q3 : Veri seti keşifsel analizi
```{r echo=FALSE, message=FALSE, warning=FALSE}



# Veri dosyasını internetten indir ve git repo'sunun içine commitle
filename_1 <- "Entrepreneurial Competency in University Students.csv"
filename_2 <- "departmanların ihtiyaçları.csv"

# Dosyayi ithal et
library(readr)
myDF_1 <- read_csv(filename_1)
myDF_2 <-read_csv(filename_2)

```
Veri setlerinin bilgileri aşağıda verilmiştir.
  
  **Entrepreneurial Competency in University Students Dataset**
- **Satir sayisi** : `r nrow(myDF_1)`
- **Sütun sayisi** : `r ncol(myDF_1)`


  **departmanların ihtiyaçları Dataset**
- **Satir sayisi** : `r nrow(myDF_2)`
- **Sütun sayisi** : `r ncol(myDF_2)`

Veri setlerinin görselleştirmesi aşağıda verilmiştir.

**Entrepreneurial Competency in University Students Dataset**

```{r echo=FALSE, message=FALSE, warning=FALSE}
myDF_1
```

**departmanların ihtiyaçları Dataset**

```{r echo=FALSE, message=FALSE, warning=FALSE}
myDF_2
```

Veri setlerini incelediğimizde, problem çözümü için "Entrepreneurial Competency in University Students Dataset" tablomuzdan gerçekleştireceğimiz filtreleme işlemi için kullanabileceğimiz sütunların öğrencinin daha önce proje yapıp/yapmadığını gösteren  **IndividualProject** sütunu ile öğrencinin mental sağlığının bozuk olup/olmadığını gösteren **MentalDisorder** sütunlarında karakter veri tipi olduğunu görüyoruz. Yine aynı tabloda yer alan **EducationalSector** karakter veri tipi içeren sütununa bağlı olarak kümeleme işlemi gerçekleştirerceğiz. Yine aynı veri setinde yer alan **Perseverance**, **DesireToTakeInitiative**, **Competitiveness**, **SelfReliance**, **StrongNeedToAchieve**, **SelfConfidence**, **GoodPhysicalHealth** sütunlarında sayı veri tipinde yer alan skorlar toplanarak girişimcilik skoru belirlenecektir. Diğer sütunlardaki değişkenlere ihtiyaç duymayacağımızdan onları sileceğiz / dikkate almayacağız.



Adayların kaç tanesinin daha önce bir proje gerçekleştirip gerçekleştirmediği aşağıda verilmiştir. Çoğunun daha önce bir projede yer aldığı görülmüştür.

```{r echo=FALSE, message=FALSE, warning=FALSE}
if (!requireNamespace("ggplot2", quietly = TRUE)) {
  install.packages("ggplot2")
}
library(ggplot2)
ggplot(myDF_1, aes(x = IndividualProject, fill = IndividualProject)) +
  geom_bar() +
  labs(title = "Bar Plot of Individual Projects",
       x = "Individual Projects",
       y = "Frequency")
```

Adayların kaç tanesinin mental bir rahatsızlığı olup olmadığı aşağıda belirtilmiştir. Çoğunun mental bir rahatsızlığının olmadığı görülmüştür.

```{r echo=FALSE, message=FALSE, warning=FALSE}
ggplot(myDF_1, aes(x = MentalDisorder, fill = MentalDisorder)) +
  geom_bar() +
  labs(title = "Bar Plot of Mental Disorder",
       x = "Mental Disorder",
       y = "Frequency")
```



Daha önce proje gerçekleştirmiş ve mental bir rahatsızlığı olmayan dayların bölümlerine göre dağılımları gösterilmiştir. Çoğunun Mühendislik öğrencisi olduğu görülmüştür.

```{r echo=FALSE, message=FALSE, warning=FALSE}
ggplot(subset(myDF_1, IndividualProject == "Yes" & MentalDisorder == "No"),
       aes(x = EducationSector, fill = EducationSector)) +
  geom_bar() +
  labs(title = "Bar Plot of Educational Sectors (IndividualProject: Yes, MentalDisorder: No)",
       x = "Education Sector",
       y = "Frequency") +
  theme(axis.text.x = element_text(angle = 30, hjust = 1))  # Bölüm adlarını 45 derece döndürmek için
```

# Q4 : Veri seti ön işlemesi

 <br>


```{r echo=FALSE, message=FALSE, warning=FALSE}

myDF_1$EducationSector = as.factor(myDF_1$EducationSector)
myDF_1$IndividualProject=as.factor(myDF_1$IndividualProject)
myDF_1$MentalDisorder = as.factor(myDF_1$MentalDisorder)
myDF_2$RequireEducationSector = as.factor(myDF_2$RequireEducationSector)
```  

**•** ilk veri setinde yer alan **"EducationSector"** ,**"InvidualProject"** ,**"MentalDisorder"** sütunları ile ikinci veri setinde yer alan **"RequireEducationSector"** sütunu  *chr* tipinden *factor* tipine dönüştürüldü.
<br>
<br>

<span style="color:red; font-weight:bold;">*Tabloların güncellenmiş hali aşağıdadır.*</span>
```{r echo=FALSE, message=FALSE, warning=FALSE}
myDF_1
myDF_2
```

# Q5 : Veri mühendisliği 
**Sentetik veri olarak girişimcilik skoru oluşturulması aşağıda verilmiştir:**
<br>
Tablolarda işlem gerçekleştirilebilmesi için öncelikle, daha önce proje yapmış ve mental sağlığı bozuk olmayan ve girişimci olan adayları filtreledik ardından filtrelenmiş dataya sentetik veri olarak en başa "GSkor" isimli bir sütun oluşturduk ve mevcut filtreli datada yer alan aynı satırdaki Perseverance, DesireToTakeInitiative, Competitiveness, SelfReliance, StrongNeedToAchieve, SelfConfidence, GoodPhysicalHealth isimli sütunlarda yer alan adayın girişimcilik düzeyini yordamaya yarayacak veri skorları içeren skorları toplayarak toplam girişimcilik skorunu bu oluşturulan "GSkor"a yazdık. Ardından GSkor değerine göre adayları büyükten küçüğe sıraladık. 
```{r echo=FALSE, message=FALSE, warning=FALSE}
library(dplyr)

filtered_data <- myDF_1 %>%
  filter(IndividualProject == "Yes" & MentalDisorder == "No" & y == 1) %>%
  mutate(GSkor = Perseverance + DesireToTakeInitiative + Competitiveness + SelfReliance + StrongNeedToAchieve + SelfConfidence + GoodPhysicalHealth) %>%
  arrange(desc(GSkor)) %>%
  select(GSkor, everything())

filtered_data
```
# Q6 : Veri analizi
**Karar mekanizması uygulanacak sentetik veri olarak "uygun adaylar"a ilişkin işlemler aşağıda verilmiştir:**
<br>
Burada GSkor'a göre sıralanmış listede GSkor'u 20'nin üzerinde olan adaylar filtrelendikten sonra bu adayların EducationSector bilgisi ikinci veri setindeki ihtiyaç olan EducationSector bilgilerini gösteren RequireEducationSector parametresinde aranmaktadır. Eğer eşleşme gerçekleşirse sıralı listedeki adayın numarası bu sentetik veri olarak oluşturulan "UygunAdaylar" parametresine eklenerek güncellenmektedir. Bu doğrultuda oluşturulmuş liste ve istatistikler ile, grafikler aşağıda sunulmuştur.
```{r echo=FALSE, message=FALSE, warning=FALSE}
# Önceden tanımlanmış veri setleri: myDF_2 ve sorted_data
sorted_data <- filtered_data %>%
  filter(GSkor > 20) %>%
  arrange(desc(GSkor))
# myDF_2'de "UygunAdaylar" adında yeni bir sütun ekleyelim.
myDF_2$UygunAdaylar <- NA

# myDF_2'deki "RequireEducationSector" sütununu faktör olarak tanımlayalım.
myDF_2$RequireEducationSector <- factor(myDF_2$RequireEducationSector)

# sorted_data içindeki her satırdaki "EducationSector" bilgisini myDF_2'deki "RequireEducationSector" sütununda arayalım.
for (i in 1:nrow(sorted_data)) {
  sector_to_find <- factor(sorted_data$EducationSector[i], levels = levels(myDF_2$RequireEducationSector))
  match_rows <- which(myDF_2$RequireEducationSector %in% sector_to_find)
  
  # Eğer eşleşme bulunursa, UygunAdaylar sütununa ilgili satır numarasını ekleyelim.
  if (length(match_rows) > 0) {
    myDF_2$UygunAdaylar[match_rows] <- ifelse(is.na(myDF_2$UygunAdaylar[match_rows]), "", paste(myDF_2$UygunAdaylar[match_rows], ",", sep = ""))
    myDF_2$UygunAdaylar[match_rows] <- paste(myDF_2$UygunAdaylar[match_rows], i, sep = "")
  }
}
# UygunAdaylar sütununu myDF_2 veri setine ekledikten sonra myDF_2'yi inceleyebilirsiniz.
myDF_2 <- myDF_2 %>%
  select(UygunAdaylar, everything())

myDF_2
```
nihai kalan adayların bölümlerine göre dağılımı gösterilmiştir. Bazı bölümlerden hiç aday kalmadığı, bazı bölümlerden çok azaldığı, mühendislik bölümünden ise hala çok sayıda aday olduğu görülmüştür.
```{r echo=FALSE, message=FALSE, warning=FALSE}
# Histogram oluştur

ggplot(sorted_data, aes(x = EducationSector)) +
  geom_bar() +
  labs(title = "Frequency of Education Sectors",
       x = "Education Sector",
       y = "Frequency") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 30, hjust = 1))  # 30 derece eğimli x-eksen etiketleri
```
<br>
nihai kalan adayların girişimcilik skorları gözükmektedir. GSkor'u 30 civarı olan adayların çok olduğu görülmüştür.
```{r echo=FALSE, message=FALSE, warning=FALSE}
# Histogram oluştur

ggplot(sorted_data, aes(x = GSkor)) +
  geom_histogram(binwidth = 5, fill = "blue", color = "black", alpha = 0.7) +
  labs(title = "GSkor Histogram", x = "GSkor", y = "Frequency")
```


# Q7 : Sonuç değerlendirme, tavsiyeler
**Aşağıda sunulmuştur:**
<br>
Projenin sonuç değerlendirmesi, girişimci adayları belirleme amacına başarılı bir şekilde ulaşıldığını göstermektedir.Veri setleri kullanılarak yapılan analizler sonucunda, girişimci özelliklere sahip adaylar bölümlerine göre başarılı bir şekilde eşleştirilmiş, kümelendirilmiş ve sıralanmıştır. Bu, iş için uygun adayları belirleme sürecinde etkili bir rehberlik sağlar. Elde edilen sonuçların mantıklı olması, pozitif ve negatif özelliklerin dengeli bir şekilde değerlendirilmesiyle sağlanmıştır. Sonuçlar, proje hedefi olan iş için uygun adayları belirleme konusunda müşterilere değerli bir rehberlik sunabilir. Analizin güçlü yanı, girişimci özellikleriyle ilgili kapsamlı bir değerlendirme yapılması ve bu özelliklerin bölümlere göre gruplandırılmasıdır. Ancak, zayıf yanları arasında ikinci veri setinin alım şartlarını sağlayan adayları belirleme konusunda detaylı bilgi içermemesi yer alabilir. İleriki çalışmalar için öneri olarak, ikinci veri setinin daha spesifik kriterler içermesi ve daha fazla özellik eklenmesiyle analizin daha kapsamlı hale getirilebileceği düşünülmektedir.

```{r echo=FALSE, message=FALSE, warning=FALSE}
sonuc_degerlendirmesi <-"Projenin sonuç değerlendirmesi, girişimci adayları belirleme amacına başarılı bir şekilde ulaşıldığını göstermektedir.Veri setleri kullanılarak yapılan analizler sonucunda, girişimci özelliklere sahip adaylar bölümlerine göre başarılı bir şekilde eşleştirilmiş, kümelendirilmiş ve sıralanmıştır. Bu, iş için uygun adayları belirleme sürecinde etkili bir rehberlik sağlar. Elde edilen sonuçların mantıklı olması, pozitif ve negatif özelliklerin dengeli bir şekilde değerlendirilmesiyle sağlanmıştır. Sonuçlar, proje hedefi olan iş için uygun adayları belirleme konusunda müşterilere değerli bir rehberlik sunabilir. Analizin güçlü yanı, girişimci özellikleriyle ilgili kapsamlı bir değerlendirme yapılması ve bu özelliklerin bölümlere göre gruplandırılmasıdır. Ancak, zayıf yanları arasında ikinci veri setinin alım şartlarını sağlayan adayları belirleme konusunda detaylı bilgi içermemesi yer alabilir. İleriki çalışmalar için öneri olarak, ikinci veri setinin daha spesifik kriterler içermesi ve daha fazla özellik eklenmesiyle analizin daha kapsamlı hale getirilebileceği düşünülmektedir."
```

# Bu R CHUNK, test kodlarını içerir
```{r echo=FALSE, message=FALSE, warning=FALSE}
testthat::test_file("Q1_tests_mert_yılmaz_200401098.R")
testthat::test_file("Q2_tests_mert_yılmaz_200401098.R")
testthat::test_file("Q3_tests_mert_yılmaz_200401098.R")
testthat::test_file("Q4_tests_mert_yılmaz_200401098.R")
testthat::test_file("Q5_tests_mert_yılmaz_200401098.R")
testthat::test_file("Q6_tests_mert_yılmaz_200401098.R")
testthat::test_file("Q7_tests_mert_yılmaz_200401098.R")
```
